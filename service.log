ERROR:    [Errno 98] Address already in use
2025-07-14 14:11:32,425 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:11:32,425 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:12:27,319 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:12:27,334 - mcp-unified-service - INFO - å¯åŠ¨MCPç»Ÿä¸€æœåŠ¡ - AkShareæ•°æ® + é‡åŒ–å›æµ‹
2025-07-14 14:12:31,195 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:12:31,196 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:13:07,176 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:13:07,220 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:13:07,220 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:13:08,936 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:23:52,509 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:23:52,509 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:24:35,246 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:24:35,293 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:24:35,294 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:24:37,222 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:26:09,932 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:26:09,932 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:26:49,230 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:26:49,265 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:26:49,265 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:26:50,876 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:29:12,238 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:29:12,238 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:29:21,011 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:29:21,011 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:29:39,769 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:29:39,769 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:29:46,123 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:29:46,123 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:30:22,882 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:30:22,919 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:30:22,919 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:30:25,077 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:31:04,509 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:31:04,510 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:31:09,256 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:31:09,256 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:31:23,671 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:31:23,671 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:32:07,077 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:32:07,116 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:32:07,116 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:32:10,046 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:32:30,345 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:32:30,346 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:32:47,970 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:32:47,971 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:32:52,556 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:32:52,556 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:32:59,280 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:32:59,280 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:33:34,735 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:33:34,770 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:33:34,770 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:33:38,883 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:33:54,225 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:33:54,226 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:33:58,695 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:33:58,695 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:34:02,697 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:34:02,698 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:34:11,387 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:34:11,388 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:34:58,969 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:34:59,003 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:34:59,003 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:35:02,154 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:35:17,721 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:35:17,722 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:35:58,181 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 14:35:58,227 - mcp-unified-service - INFO - åˆå§‹åŒ–AkShareç¼“å­˜ç›®å½•
2025-07-14 14:35:58,227 - mcp-unified-service - INFO - é¢„åŠ è½½æ²ªæ·±300æŒ‡æ•°æ•°æ®: 2020-01-01 ~ 2025-07-14
2025-07-14 14:36:01,509 - mcp-unified-service - INFO - æ²ªæ·±300æŒ‡æ•°æ•°æ®åŠ è½½å®Œæˆ
2025-07-14 15:06:55,512 - mcp-unified-service - INFO - å¯åŠ¨MCPç»Ÿä¸€æœåŠ¡ - AkShareæ•°æ® + é‡åŒ–å›æµ‹
2025-07-14 15:24:31,935 - mcp-unified-service - INFO - å¯åŠ¨MCPç»Ÿä¸€æœåŠ¡ - AkShareæ•°æ® + é‡åŒ–å›æµ‹
2025-07-14 15:25:25,502 - mcp-unified-service - INFO - MCP data request received: stock_zh_a_hist, Params: {'symbol': '000001', 'period': 'daily', 'start_date': '20240101', 'end_date': '20241201'}
2025-07-15 01:35:39,487 - mcp-unified-service - INFO - å¯åŠ¨MCPç»Ÿä¸€æœåŠ¡ - AkShareæ•°æ® + é‡åŒ–å›æµ‹
2025-07-15 01:45:20,051 - mcp-unified-service - INFO - å¯åŠ¨MCPç»Ÿä¸€æœåŠ¡ - AkShareæ•°æ® + é‡åŒ–å›æµ‹
2025-07-15 02:08:58,345 - mcp-unified-service - INFO - MCP data request received: stock_zh_a_hist, Params: {'symbol': '000001', 'period': 'daily', 'start_date': '20240101', 'end_date': '20241201'}
2025-07-15 02:24:32,197 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:24:32,199 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:24:36,773 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:24:36,774 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:24:36,777 - httpx - INFO - HTTP Request: GET http://testserver/api/health "HTTP/1.1 200 OK"
2025-07-15 02:24:36,779 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-15 02:24:41,024 - httpx - INFO - HTTP Request: GET http://testserver/api/users/me "HTTP/1.1 401 Unauthorized"
2025-07-15 02:24:42,045 - httpx - INFO - HTTP Request: POST http://testserver/api/mcp-data "HTTP/1.1 401 Unauthorized"
2025-07-15 02:24:43,024 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:24:43,878 - mcp-unified-service - ERROR - Error executing AkShare code: division by zero
2025-07-15 02:24:43,882 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test1): Interface: test_interface, Params: {'p1': 'v1'}
2025-07-15 02:24:43,942 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test2): Interface: non_existent_interface, Params: {}
2025-07-15 02:24:43,943 - mcp-unified-service - WARNING - Unsupported MCP interface called: non_existent_interface
2025-07-15 02:24:43,945 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test3): Interface: test_interface, Params: {}
2025-07-15 02:24:43,945 - mcp-unified-service - ERROR - Error processing MCP request for interface 'test_interface': Internal processing error
2025-07-15 02:25:10,594 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:25:14,397 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:25:14,399 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:25:25,231 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:25:29,286 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:25:29,287 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:25:43,380 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:25:43,382 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:25:43,385 - httpx - INFO - HTTP Request: GET http://testserver/api/health "HTTP/1.1 200 OK"
2025-07-15 02:25:43,387 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-15 02:25:46,564 - httpx - INFO - HTTP Request: GET http://testserver/api/users/me "HTTP/1.1 401 Unauthorized"
2025-07-15 02:25:47,394 - httpx - INFO - HTTP Request: POST http://testserver/api/mcp-data "HTTP/1.1 401 Unauthorized"
2025-07-15 02:25:48,243 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:25:49,072 - mcp-unified-service - ERROR - Error executing AkShare code: division by zero
2025-07-15 02:25:49,075 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test1): Interface: test_interface, Params: {'p1': 'v1'}
2025-07-15 02:25:49,111 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test2): Interface: non_existent_interface, Params: {}
2025-07-15 02:25:49,112 - mcp-unified-service - WARNING - Unsupported MCP interface called: non_existent_interface
2025-07-15 02:25:49,114 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test3): Interface: test_interface, Params: {}
2025-07-15 02:25:49,114 - mcp-unified-service - ERROR - Error processing MCP request for interface 'test_interface': Internal processing error
2025-07-15 02:26:12,364 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:26:16,450 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:26:16,451 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:26:30,598 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:26:34,632 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:26:34,634 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:26:42,729 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:26:42,730 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:26:42,733 - httpx - INFO - HTTP Request: GET http://testserver/api/health "HTTP/1.1 200 OK"
2025-07-15 02:26:42,735 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-15 02:26:46,137 - httpx - INFO - HTTP Request: GET http://testserver/api/users/me "HTTP/1.1 401 Unauthorized"
2025-07-15 02:26:46,982 - httpx - INFO - HTTP Request: POST http://testserver/api/mcp-data "HTTP/1.1 401 Unauthorized"
2025-07-15 02:26:47,915 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:26:48,749 - mcp-unified-service - ERROR - Error executing AkShare code: division by zero
2025-07-15 02:26:48,752 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test1): Interface: test_interface, Params: {'p1': 'v1'}
2025-07-15 02:26:48,756 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test2): Interface: non_existent_interface, Params: {}
2025-07-15 02:26:48,756 - mcp-unified-service - WARNING - Unsupported MCP interface called: non_existent_interface
2025-07-15 02:26:48,758 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test3): Interface: test_interface, Params: {}
2025-07-15 02:26:48,758 - mcp-unified-service - ERROR - Error processing MCP request for interface 'test_interface': Internal processing error
2025-07-15 02:27:52,586 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:27:56,118 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:27:56,120 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:28:03,844 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:28:07,643 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:28:07,645 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:28:16,489 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:28:16,491 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:28:16,495 - httpx - INFO - HTTP Request: GET http://testserver/api/health "HTTP/1.1 200 OK"
2025-07-15 02:28:16,498 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-15 02:28:19,833 - httpx - INFO - HTTP Request: GET http://testserver/api/users/me "HTTP/1.1 401 Unauthorized"
2025-07-15 02:28:20,931 - httpx - INFO - HTTP Request: POST http://testserver/api/mcp-data "HTTP/1.1 401 Unauthorized"
2025-07-15 02:28:22,144 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:28:22,995 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test1): Interface: test_interface, Params: {'p1': 'v1'}
2025-07-15 02:28:23,000 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test2): Interface: non_existent_interface, Params: {}
2025-07-15 02:28:23,000 - mcp-unified-service - WARNING - Unsupported MCP interface called: non_existent_interface
2025-07-15 02:28:23,002 - mcp-unified-service - INFO - Anonymous user initiated MCP request (ID: test3): Interface: test_interface, Params: {}
2025-07-15 02:28:23,003 - mcp-unified-service - ERROR - Error processing MCP request for interface 'test_interface': Internal processing error
2025-07-15 02:31:54,680 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:31:58,531 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:31:58,533 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:32:04,351 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:32:08,301 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:32:08,302 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:32:39,502 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:32:39,504 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:32:39,505 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:33:13,582 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-15 02:39:58,172 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:40:02,054 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:40:02,056 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:41:02,961 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:41:12,268 - mcp-unified-service - INFO - å¯åŠ¨MCPç»Ÿä¸€æœåŠ¡ - AkShareæ•°æ® + é‡åŒ–å›æµ‹
2025-07-15 02:41:16,222 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:41:16,224 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:42:17,765 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:42:17,767 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 02:46:03,110 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 02:46:37,706 - mcp-unified-service - INFO - Service starting up...
2025-07-15 02:46:37,708 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 03:28:09,704 - mcp-unified-service - INFO - å¯åŠ¨MCPç»Ÿä¸€æœåŠ¡ - AkShareæ•°æ® + é‡åŒ–å›æµ‹
2025-07-15 03:28:13,882 - mcp-unified-service - INFO - Service starting up...
2025-07-15 03:28:13,885 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 03:29:25,228 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 03:34:02,180 - mcp-unified-service - INFO - Service starting up...
2025-07-15 03:34:02,183 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 03:39:58,084 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 03:41:04,778 - mcp-unified-service - INFO - å¯åŠ¨MCPç»Ÿä¸€æœåŠ¡ - AkShareæ•°æ® + é‡åŒ–å›æµ‹
2025-07-15 03:41:08,900 - mcp-unified-service - INFO - Service starting up...
2025-07-15 03:41:08,902 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 03:42:33,870 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 03:42:50,116 - mcp-unified-service - INFO - Service starting up...
2025-07-15 03:42:50,118 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 03:52:41,553 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-15 03:54:31,247 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 03:54:35,238 - mcp-unified-service - INFO - Service starting up...
2025-07-15 03:54:35,240 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 03:58:15,735 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752551895424): Interface: stock_zh_a_hist, Params: {'symbol': '600519', 'period': 'daily', 'start_date': '20230101', 'end_date': '20231231'}
2025-07-15 03:59:05,932 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752551945615): Interface: stock_zh_a_hist, Params: {'symbol': '600519', 'period': 'daily', 'start_date': '20230101', 'end_date': '20231231'}
2025-07-15 03:59:20,890 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752551960583): Interface: stock_zh_a_spot_em, Params: {}
2025-07-15 03:59:32,389 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752551972092): Interface: stock_yjbb_em, Params: {'date': '20231231'}
2025-07-15 04:00:59,756 - mcp-unified-service - ERROR - Error processing MCP request for interface 'stock_yjbb_em': Response ended prematurely
2025-07-15 04:02:26,636 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:02:30,532 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:02:30,534 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:05:51,407 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:06:13,248 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:06:13,250 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:06:21,617 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752552381355): Interface: stock_zh_a_hist, Params: {'symbol': '600519', 'period': 'daily', 'start_date': '20230101', 'end_date': '20231231'}
2025-07-15 04:06:26,486 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752552386217): Interface: stock_zh_a_spot_em, Params: {}
2025-07-15 04:06:32,984 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752552392715): Interface: stock_yjbb_em, Params: {'date': '20231231'}
2025-07-15 04:06:35,381 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752552395120): Interface: stock_yjbb_em, Params: {'date': '20231231'}
2025-07-15 04:06:40,314 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752552400057): Interface: stock_a_pe_and_pb_em, Params: {'symbol': 'sh'}
2025-07-15 04:06:40,314 - mcp-unified-service - WARNING - Unsupported MCP interface called: stock_a_pe_and_pb_em
2025-07-15 04:06:57,492 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752552417234): Interface: stock_holder_number_em, Params: {'symbol': 'sh600000'}
2025-07-15 04:06:57,492 - mcp-unified-service - WARNING - Unsupported MCP interface called: stock_holder_number_em
2025-07-15 04:07:52,346 - mcp-unified-service - ERROR - Error processing MCP request for interface 'stock_yjbb_em': Response ended prematurely
Traceback (most recent call last):
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/models.py", line 820, in generate
    yield from self.raw.stream(chunk_size, decode_content=True)
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/urllib3/response.py", line 1063, in stream
    yield from self.read_chunked(amt, decode_content=decode_content)
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/urllib3/response.py", line 1219, in read_chunked
    self._update_chunk_length()
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/urllib3/response.py", line 1149, in _update_chunk_length
    raise ProtocolError("Response ended prematurely") from None
urllib3.exceptions.ProtocolError: Response ended prematurely

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspace/akshare-mcp-adapter/handlers/mcp_handler.py", line 60, in handle_mcp_data_request
    raw_result = await akshare_adaptor.call(request.interface, **request.params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/akshare-mcp-adapter/adaptors/akshare.py", line 17, in call
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/akshare-mcp-adapter/adaptors/akshare.py", line 19, in <lambda>
    lambda: func(**params)
            ^^^^^^^^^^^^^^
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/akshare/stock_feature/stock_yjbb_em.py", line 50, in stock_yjbb_em
    r = requests.get(url, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/sessions.py", line 746, in send
    r.content
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/models.py", line 902, in content
    self._content = b"".join(self.iter_content(CONTENT_CHUNK_SIZE)) or b""
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/models.py", line 822, in generate
    raise ChunkedEncodingError(e)
requests.exceptions.ChunkedEncodingError: Response ended prematurely
2025-07-15 04:08:07,410 - mcp-unified-service - ERROR - Error processing MCP request for interface 'stock_yjbb_em': Response ended prematurely
Traceback (most recent call last):
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/models.py", line 820, in generate
    yield from self.raw.stream(chunk_size, decode_content=True)
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/urllib3/response.py", line 1063, in stream
    yield from self.read_chunked(amt, decode_content=decode_content)
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/urllib3/response.py", line 1219, in read_chunked
    self._update_chunk_length()
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/urllib3/response.py", line 1149, in _update_chunk_length
    raise ProtocolError("Response ended prematurely") from None
urllib3.exceptions.ProtocolError: Response ended prematurely

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspace/akshare-mcp-adapter/handlers/mcp_handler.py", line 60, in handle_mcp_data_request
    raw_result = await akshare_adaptor.call(request.interface, **request.params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/akshare-mcp-adapter/adaptors/akshare.py", line 17, in call
    return await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/akshare-mcp-adapter/adaptors/akshare.py", line 19, in <lambda>
    lambda: func(**params)
            ^^^^^^^^^^^^^^
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/akshare/stock_feature/stock_yjbb_em.py", line 50, in stock_yjbb_em
    r = requests.get(url, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/sessions.py", line 746, in send
    r.content
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/models.py", line 902, in content
    self._content = b"".join(self.iter_content(CONTENT_CHUNK_SIZE)) or b""
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/gitpod/.pyenv/versions/3.12.11/lib/python3.12/site-packages/requests/models.py", line 822, in generate
    raise ChunkedEncodingError(e)
requests.exceptions.ChunkedEncodingError: Response ended prematurely
2025-07-15 04:08:48,437 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752552527345): Interface: stock_zh_a_hist, Params: {'symbol': '600519', 'period': 'daily', 'start_date': '20230101', 'end_date': '20231231'}
2025-07-15 04:12:07,697 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:12:12,046 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:12:12,048 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:16:19,823 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:16:24,698 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:16:24,701 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:19:57,564 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:20:01,795 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:20:01,797 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:20:36,488 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:20:41,277 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:20:41,279 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:26:58,988 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/workspace/.pyenv_mirror/user/current/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-15 04:27:07,497 - mcp-unified-service - INFO - User 'admin' initiated MCP request (ID: req-1752553627148): Interface: stock_zh_a_hist, Params: {'symbol': '600519', 'period': 'daily', 'start_date': '20230101', 'end_date': '20231231'}
2025-07-15 04:27:07,498 - mcp-unified-service - INFO - Cache miss for method 'stock_zh_a_hist'. Fetching fresh data.
2025-07-15 04:27:08,889 - mcp-unified-service - INFO - Successfully cached data for method 'stock_zh_a_hist' to 'static/cache/e73f020f55b6a9f9dd062e0329bab10a96bbe2d7500f0e18f93e72b51a8c106e.parquet'.
2025-07-15 04:36:40,557 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:36:44,543 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:36:44,544 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:37:03,904 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:37:07,719 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:37:07,721 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:40:48,028 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:40:52,135 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:40:52,136 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:41:05,380 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:41:09,254 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:41:09,256 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:45:45,629 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:45:49,794 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:45:49,796 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:46:00,933 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:46:05,095 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:46:05,097 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:47:54,412 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:47:59,338 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:47:59,341 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-15 04:48:37,001 - mcp-unified-service - INFO - Service shutting down...
2025-07-15 04:48:41,444 - mcp-unified-service - INFO - Service starting up...
2025-07-15 04:48:41,446 - mcp-unified-service - INFO - Database and tables created successfully.
2025-07-16 22:48:50,387 - mcp-unified-service - INFO - Æô¶¯MCPÍ³Ò»·şÎñ - AkShareÊı¾İ + Á¿»¯»Ø²â
2025-07-16 22:48:55,338 - mcp-unified-service - INFO - Service starting up...
2025-07-16 22:48:55,353 - mcp-unified-service - INFO - Database and tables created successfully.
